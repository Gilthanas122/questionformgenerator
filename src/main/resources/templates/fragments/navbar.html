<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body>
<link th:fragment="css" rel="stylesheet" type="text/css" href="/css/style.css">
<div th:fragment="navbar" class="dropdown mydropdown">
    <span>
        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Menu
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
            <li class="dropdown-item" th:href="@{/}">Main page</li>
            <li> <a sec:authorize="isAnonymous()" class="dropdown-item" th:href="@{/login}">Login</a> </li>
            <li> <a sec:authorize="isAnonymous()" class="dropdown-item" th:href="@{/register}">Register</a></li>
            <li> <a sec:authorize="isAnonymous()" class="dropdown-item" th:href="@{/change-password}">Change password</a></li>
            <li> <a sec:authorize="isAuthenticated()" class="dropdown-item" th:href="@{/logout}">Logout</a></li>
        </ul>
    </span>

    <span sec:authorize="isAuthenticated()">
        <button class="btn btn-secondary-alert dropdown-toggle" type="button" id="dropdownMenuButton2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            User menu
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton2">
            <a class="dropdown-item" th:href="@{/app-user/question-form/list-not-filled-out}">List available question forms</a>
            <a class="dropdown-item" th:href="@{/app-user/question-form/list}">List question forms filled out by me</a>
        </div>
    </span>

    <span sec:authorize="hasRole('ROLE_TEACHER') OR hasRole('ROLE_ADMIN')" >
        <button class="btn btn-secondary-alert dropdown-toggle" type="button" id="dropdownMenuButton3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Teacher Menu
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton2">
            <a class="dropdown-item" th:href="@{/question-form/create}">New Question Form</a>
            <a class="dropdown-item" th:href="@{/question-form/list}">List my Question forms</a>
        </div>
    </span>

    <span sec:authorize="hasRole('ROLE_ADMIN')">
        <button class="btn btn-secondary-alert dropdown-toggle" type="button" id="dropdownMenuButton4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Admin Menu
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton3">
            <a class="dropdown-item" th:href="@{/admin/}">Manage users</a>
        </div>
    </span>
</div>



<link th:fragment="bootstrap-link" rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link th:fragment="ion-icon" href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet"/>

</body>
</html>